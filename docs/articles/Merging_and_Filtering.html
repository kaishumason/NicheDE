<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Merging and Filtering Niche-DE Objects • nicheDE</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Merging and Filtering Niche-DE Objects">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="inverse" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nicheDE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/Tutorial.html">Tutorial</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Documentation</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Kmason23/NicheDE"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Merging and Filtering Niche-DE Objects</h1>
            
            <h4 data-toc-skip class="date">2023-09-18</h4>
      

      <div class="d-none name"><code>Merging_and_Filtering.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="merging-objects">Merging Objects<a class="anchor" aria-label="anchor" href="#merging-objects"></a>
</h2>
<p>Merging niche-DE objects is very easy, we simply use the function
‘MergeObjects’. This function takes one argument which is a list where
each element of the list is an niche-DE object. The kernel bandwidths
across all merged objects must match. Additionally, the reference
expression matrix for all merged matrices must match. Finally, the
integer classification for all merged objects must match (i.e all
objects must be integer or all objects must be continuous). Merging
objects will erase the effective niche calculation so we recommend
merging objects before calculating the effective niche.</p>
<pre><code><span><span class="co">#print to see how many observations our niche-DE object currently has</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">NDE_obj</span><span class="op">)</span></span>
<span><span class="co">#make a copy</span></span>
<span><span class="va">NDE_obj_copy</span> <span class="op">=</span> <span class="va">NDE_obj</span></span>
<span><span class="co">#merge our niche-DE object with the copy</span></span>
<span><span class="va">NDE_merged</span> <span class="op">=</span> <span class="fu"><a href="../reference/MergeObjects.html">MergeObjects</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>A <span class="op">=</span> <span class="va">NDE_obj</span>,B <span class="op">=</span> <span class="va">NDE_obj_copy</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#print to see that we have double the observations</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">NDE_merged</span><span class="op">)</span></span></code></pre>
<p>We should see that our merged niche-DE object has double the
observations and double the batches.</p>
</div>
<div class="section level2">
<h2 id="filtering-objects">Filtering Objects<a class="anchor" aria-label="anchor" href="#filtering-objects"></a>
</h2>
Filtering out observations can be done with the command ‘Filter_NDE’.
This function takes two arguments
<details><summary>
Arguments
</summary><ul>
<li>object: A niche-DE object</li>
<li>cell_names: Cell names of observations that should be kept</li>
</ul></details><p>The output of this function is a niche-DE object that only includes
the specified cells.</p>
<pre><code><span><span class="co">#get first 100 spot names </span></span>
<span><span class="va">cell_names</span> <span class="op">=</span> <span class="va">NDE_obj</span><span class="op">@</span><span class="va">cell_names</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">]</span></span>
<span><span class="co">#filter to only include these spots</span></span>
<span><span class="va">NDE_obj_filtered</span> <span class="op">=</span> <span class="fu"><a href="../reference/Filter_NDE.html">Filter_NDE</a></span><span class="op">(</span><span class="va">NDE_obj</span>,cell_names <span class="op">=</span> <span class="va">cell_names</span><span class="op">)</span></span>
<span><span class="co">#print to see that our new object only has 100 observations</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">NDE_obj_filtered</span><span class="op">)</span></span></code></pre>
<p>We should see that our filtered niche-DE object only has 100
observations. We recommend filtering after calculating the effective
niche.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Kaishu Mason.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
